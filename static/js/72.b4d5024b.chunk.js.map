{"version":3,"file":"static/js/72.b4d5024b.chunk.js","mappings":"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","sources":["books/repositories/boook-api-repository.tsx","books/view/books.tsx","shared/components/review-card.tsx"],"sourcesContent":["import Book from \"../entities/book\";\nimport axios, { AxiosResponse, AxiosError } from 'axios';\n\nexport class BookApiRepository{\n    baseUrl = \"https://openlibrary.org/api/books\"\n\n\n    getBook(isbn: string): Promise<Book> {\n        const queryParameter = new URLSearchParams({\n            bibkeys: `ISBN:${isbn}`,\n            format: \"json\",\n            jscmd: \"data\"\n        })\n        return new Promise<Book>((resolve, reject) => {\n            axios.get(`${this.baseUrl}?${queryParameter.toString()}`)\n            .then(async (response: AxiosResponse) => {\n                if(response.data){\n                    const bookData = response.data[`ISBN:${isbn}`]\n                    const authorName: string = bookData.authors[0].name\n                    const authorOlid: string = bookData.authors[0].url.match(/OL[^/]+/)\n                    const description: string = await this.getDescription(isbn)\n                    const book: Book = {\n                        author: authorName,\n                        avatar: `https://covers.openlibrary.org/a/olid/${authorOlid}-S.jpg`,\n                        date: bookData.publish_date,\n                        sumup: description,\n                        detail: bookData.subtitle,\n                        picture: bookData.cover.medium,\n                        title: bookData.title\n                    }\n                    resolve(book)\n                }\n                reject(new Error(\"Not data retrieved for this book\"));\n            })\n            .catch((error: AxiosError) => {\n                reject(new Error(error.message));\n            });\n        })\n\n    }\n    async getDescription(isbn: string): Promise<string> {\n        const queryParameter = new URLSearchParams({\n            bibkeys: `ISBN:${isbn}`,\n            format: \"json\",\n            jscmd: \"details\"\n        })\n        const response = await axios.get(`${this.baseUrl}?${queryParameter.toString()}`);\n        console.log(response.data[`ISBN:${isbn}`].details)\n        const details = response.data[`ISBN:${isbn}`].details;\n        let description: string;\n        if (typeof details.description == \"string\") {\n            description = details.description\n        } else if (details.description?.value) {\n            description = details.description.value\n        } else {\n            description =  response.data[`ISBN:${isbn}`].info_url\n        }\n        return description\n\n    }\n\n}","import Grid from '@mui/material/Grid';\nimport React, { useEffect, useState } from 'react';\nimport ReviewCard from '../../shared/components/review-card';\nimport Book from '../entities/book';\nimport { Helmet } from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\nimport { BookApiRepository } from '../repositories/boook-api-repository';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Box from '@mui/material/Box';\n\nexport default function Books(): JSX.Element {\n  const { t } = useTranslation('books');\n  const [books, setBooks] = useState<Book[]>([]);\n  const [loading, setLoading] = useState<boolean>(true)\n\n  useEffect(() => {\n    const isbnArray = t<string, string[]>('books', { returnObjects: true });\n    const BookGetter = new BookApiRepository;\n    Promise.all(isbnArray.map((isbn) => BookGetter.getBook(isbn)))\n      .then((bookDataArray) => {\n        setBooks(bookDataArray);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(error);\n        setLoading(false);\n      });\n  }, [t]);\n\n\n  return (\n    <>\n      <Helmet>\n        <title>SylwekFr - Books</title>\n        <meta\n          name=\"description\"\n          content=\"Welcome to the book's part. This part contains books I recommend reading. If you read those books, I hope you will enjoy them as much as I did. Wishing you some lovely reading time.\"\n        />\n      </Helmet>\n      { loading ? (\n        <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" height=\"100vh\">\n          <CircularProgress />\n        </Box>\n      ) : (\n        <Grid\n          container\n          justifyContent=\"space-around\"\n          alignContent=\"center\"\n          spacing={3}\n        >\n        {books.map((book) => (\n              <Grid key={book.title} item justifyItems=\"center\" sm={12} md={6} lg={3}>\n                <ReviewCard {...book} pictureHeight={500} />\n              </Grid>\n              )\n            )\n        }\n      </Grid>\n      )}\n    </>\n  );\n}\n","import ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport Avatar from '@mui/material/Avatar';\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardHeader from '@mui/material/CardHeader';\nimport CardMedia from '@mui/material/CardMedia';\nimport Collapse from '@mui/material/Collapse';\nimport IconButton, { IconButtonProps } from '@mui/material/IconButton';\nimport { styled } from '@mui/material/styles';\nimport Tooltip from '@mui/material/Tooltip';\nimport Typography from '@mui/material/Typography';\nimport React, { FC } from 'react';\n\ntype ExpandMoreProps = {\n  expand: boolean;\n} & IconButtonProps;\n\nconst ExpandMore = styled((props: ExpandMoreProps) => {\n  const { expand, ...other } = props;\n  return <IconButton {...other} />;\n})(({ theme, expand }) => ({\n  transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\n  marginLeft: 'auto',\n  transition: theme.transitions.create('transform', {\n    duration: theme.transitions.duration.shortest,\n  }),\n}));\n\nexport type ReviewCardProps = {\n  avatar?: string;\n  author: string;\n  date: number;\n  detail?: string;\n  picture: string;\n  pictureHeight: number;\n  sumup: string;\n  title: string;\n};\n\nconst ReviewCard: FC<ReviewCardProps> = (props: ReviewCardProps) => {\n  const [expanded, setExpanded] = React.useState(false);\n\n  const onExpand = () => {\n    setExpanded(!expanded);\n  };\n\n  const { author, avatar, date, detail, picture, pictureHeight, sumup, title } =\n    props;\n  return (\n    <Card sx={{ maxWidth: 345, m: 'auto' }}>\n      <CardHeader\n        avatar={\n          <Tooltip title={author}>\n            <Avatar aria-label=\"author\" alt={author} src={avatar} />\n          </Tooltip>\n        }\n        title={title}\n        subheader={date}\n      />\n      <CardMedia\n        component=\"img\"\n        loading=\"lazy\"\n        height={pictureHeight}\n        image={picture}\n        alt={title}\n      />\n      { detail && (\n      <CardContent sx={{ height: \"5em\",overflowY: 'scroll'}}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          {detail}\n        </Typography>\n      </CardContent>\n      )}\n      <CardActions disableSpacing>\n        <ExpandMore\n          expand={expanded}\n          onClick={onExpand}\n          aria-expanded={expanded}\n          aria-label=\"show more\"\n        >\n          <ExpandMoreIcon />\n        </ExpandMore>\n      </CardActions>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n        <CardContent sx={{ height: \"15em\",overflowY: 'scroll'}}>\n          <Typography paragraph>{sumup}</Typography>\n        </CardContent>\n      </Collapse>\n    </Card>\n  );\n};\n\nexport default ReviewCard;\n"],"names":["BookApiRepository","constructor","baseUrl","getBook","isbn","queryParameter","URLSearchParams","bibkeys","format","jscmd","Promise","resolve","reject","axios","get","this","toString","then","async","response","data","bookData","authorName","authors","name","authorOlid","url","match","description","getDescription","book","author","avatar","date","publish_date","sumup","detail","subtitle","picture","cover","medium","title","Error","catch","error","message","_details$description","console","log","details","value","info_url","Books","t","useTranslation","books","setBooks","useState","loading","setLoading","useEffect","isbnArray","returnObjects","BookGetter","all","map","bookDataArray","_jsxs","_Fragment","children","Helmet","_jsx","content","Box","display","justifyContent","alignItems","height","CircularProgress","Grid","container","alignContent","spacing","item","justifyItems","sm","md","lg","ReviewCard","pictureHeight","ExpandMore","styled","props","expand","other","IconButton","_ref","theme","transform","marginLeft","transition","transitions","create","duration","shortest","expanded","setExpanded","React","Card","sx","maxWidth","m","CardHeader","Tooltip","Avatar","alt","src","subheader","CardMedia","component","image","CardContent","overflowY","Typography","variant","color","CardActions","disableSpacing","onClick","onExpand","ExpandMoreIcon","Collapse","in","timeout","unmountOnExit","paragraph"],"sourceRoot":""}