"use strict";(self.webpackChunksylwekfr_github_io=self.webpackChunksylwekfr_github_io||[]).push([[72],{72:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var r=a(8903),s=a(5043),i=a(638),o=a(1591),n=a(1137),c=a(6213);class l{constructor(){this.baseUrl="https://openlibrary.org/api/books"}getBook(t){const e=new URLSearchParams({bibkeys:`ISBN:${t}`,format:"json",jscmd:"data"});return new Promise(((a,r)=>{c.A.get(`${this.baseUrl}?${e.toString()}`).then((async e=>{if(e.data){const r=e.data[`ISBN:${t}`],s=r.authors[0].name,i=r.authors[0].url.match(/OL[^/]+/),o=await this.getDescription(t),n={author:s,avatar:`https://covers.openlibrary.org/a/olid/${i}-S.jpg`,date:r.publish_date,sumup:o,detail:r.subtitle,picture:r.cover.medium,title:r.title};a(n)}r(new Error("Not data retrieved for this book"))})).catch((t=>{r(t)}))}))}async getDescription(t){var e;const a=new URLSearchParams({bibkeys:`ISBN:${t}`,format:"json",jscmd:"details"}),r=await c.A.get(`${this.baseUrl}?${a.toString()}`);console.log(r.data[`ISBN:${t}`].details);const s=r.data[`ISBN:${t}`].details;let i;return i="string"==typeof s.description?s.description:null!==(e=s.description)&&void 0!==e&&e.value?s.description.value:r.data[`ISBN:${t}`].info_url,i}}var d=a(579);function h(){const{t:t}=(0,n.Bd)("books"),[e,a]=(0,s.useState)([]);return(0,s.useEffect)((()=>{const e=t("books",{returnObjects:!0}),r=new l;Promise.all(e.map((t=>r.getBook(t)))).then((t=>{a(t)})).catch((t=>{console.error(t)}))}),[t]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(o.m,{children:[(0,d.jsx)("title",{children:"SylwekFr - Books"}),(0,d.jsx)("meta",{name:"description",content:"Welcome to the book's part. This part contains books I recommend reading. If you read those books, I hope you will enjoy them as much as I did. Wishing you some lovely reading time."})]}),(0,d.jsx)(r.Ay,{container:!0,justifyContent:"space-around",alignContent:"center",spacing:3,children:e.map((t=>(0,d.jsx)(r.Ay,{item:!0,justifyItems:"center",sm:12,md:6,lg:3,children:(0,d.jsx)(i.A,{...t,pictureHeight:500})},t.title)))})]})}},638:(t,e,a)=>{a.d(e,{A:()=>b});var r=a(1337),s=a(1045),i=a(2110),o=a(7600),n=a(6494),c=a(9958),l=a(6591),d=a(279),h=a(7392),u=a(2056),m=a(6212),p=a(5865),g=a(5043),j=a(579);const x=(0,u.Ay)((t=>{const{expand:e,...a}=t;return(0,j.jsx)(h.A,{...a})}))((t=>{let{theme:e,expand:a}=t;return{transform:a?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}})),b=t=>{const[e,a]=g.useState(!1),{author:h,avatar:u,date:b,detail:y,picture:f,pictureHeight:k,sumup:A,title:v}=t;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(i.A,{sx:{maxWidth:345,m:"auto"},children:[(0,j.jsx)(c.A,{avatar:(0,j.jsx)(m.A,{title:h,children:(0,j.jsx)(s.A,{"aria-label":"author",alt:h,src:u})}),title:v,subheader:b}),(0,j.jsx)(l.A,{component:"img",loading:"lazy",height:k,image:f,alt:v}),y&&(0,j.jsx)(n.A,{children:(0,j.jsx)(p.A,{variant:"body2",color:"text.secondary",children:y})}),(0,j.jsx)(o.A,{disableSpacing:!0,children:(0,j.jsx)(x,{expand:e,onClick:()=>{a(!e)},"aria-expanded":e,"aria-label":"show more",children:(0,j.jsx)(r.A,{})})}),(0,j.jsx)(d.A,{in:e,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(n.A,{children:(0,j.jsx)(p.A,{paragraph:!0,children:A})})})]})})}}}]);
//# sourceMappingURL=72.a29bc062.chunk.js.map