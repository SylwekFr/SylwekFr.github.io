"use strict";(self.webpackChunksylwekfr_github_io=self.webpackChunksylwekfr_github_io||[]).push([[890],{9890:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var r=n(1413),a=n(9439),i=n(1889),o=n(2791),s=n(1853),c=n(4270),u=n(9230),l=n(4165),d=n(5861),h=n(5671),p=n(3144),f=n(1243),m=function(){function t(){(0,h.Z)(this,t),this.baseUrl="https://openlibrary.org/api/books"}return(0,p.Z)(t,[{key:"getBook",value:function(t){var e=this,n=new URLSearchParams({bibkeys:"ISBN:".concat(t),format:"json",jscmd:"data"});return new Promise((function(r,a){f.Z.get("".concat(e.baseUrl,"?").concat(n.toString())).then(function(){var n=(0,d.Z)((0,l.Z)().mark((function n(i){var o,s,c,u,d;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.data){n.next=9;break}return o=i.data["ISBN:".concat(t)],s=o.authors[0].name,c=o.authors[0].url.match(/OL[^/]+/),n.next=6,e.getDescription(t);case 6:u=n.sent,d={author:s,avatar:"https://covers.openlibrary.org/a/olid/".concat(c,"-S.jpg"),date:o.publish_date,sumup:u,detail:o.subtitle,picture:o.cover.medium,title:o.title},r(d);case 9:a(new Error("Not data retrieved for this book"));case 10:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()).catch((function(t){a(t)}))}))}},{key:"getDescription",value:function(){var t=(0,d.Z)((0,l.Z)().mark((function t(e){var n,r,a,i,o;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams({bibkeys:"ISBN:".concat(e),format:"json",jscmd:"details"}),t.next=3,f.Z.get("".concat(this.baseUrl,"?").concat(r.toString()));case 3:return a=t.sent,console.log(a.data["ISBN:".concat(e)].details),i=a.data["ISBN:".concat(e)].details,o="string"==typeof i.description?i.description:null!==(n=i.description)&&void 0!==n&&n.value?i.description.value:a.data["ISBN:".concat(e)].info_url,t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),x=n(184);function g(){var t=(0,u.$G)("books").t,e=(0,o.useState)([]),n=(0,a.Z)(e,2),l=n[0],d=n[1];return(0,o.useEffect)((function(){var e=t("books",{returnObjects:!0}),n=new m;Promise.all(e.map((function(t){return n.getBook(t)}))).then((function(t){d(t)})).catch((function(t){console.error(t)}))}),[t]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(c.q,{children:[(0,x.jsx)("title",{children:"SylwekFr - Books"}),(0,x.jsx)("meta",{name:"description",content:"Welcome to the book's part. This part contains books I recommend reading. If you read those books, I hope you will enjoy them as much as I did. Wishing you some lovely reading time."})]}),(0,x.jsx)(i.ZP,{container:!0,justifyContent:"space-around",alignContent:"center",spacing:3,children:l.map((function(t){return(0,x.jsx)(i.ZP,{item:!0,justifyItems:"center",sm:12,md:6,lg:3,children:(0,x.jsx)(s.Z,(0,r.Z)((0,r.Z)({},t),{},{pictureHeight:500}))},t.title)}))})]})}},1853:function(t,e,n){var r=n(9439),a=n(1413),i=n(5987),o=n(1131),s=n(3044),c=n(7621),u=n(2363),l=n(9504),d=n(9585),h=n(2169),p=n(6125),f=n(3400),m=n(7630),x=n(6040),g=n(890),Z=n(2791),j=n(184),b=["expand"],v=(0,m.ZP)((function(t){t.expand;var e=(0,i.Z)(t,b);return(0,j.jsx)(f.Z,(0,a.Z)({},e))}))((function(t){var e=t.theme;return{transform:t.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}));e.Z=function(t){var e=Z.useState(!1),n=(0,r.Z)(e,2),a=n[0],i=n[1],f=t.author,m=t.avatar,b=t.date,k=t.detail,y=t.picture,w=t.pictureHeight,S=t.sumup,I=t.title;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(c.Z,{sx:{maxWidth:345,m:"auto"},children:[(0,j.jsx)(d.Z,{avatar:(0,j.jsx)(x.Z,{title:f,children:(0,j.jsx)(s.Z,{"aria-label":"author",alt:f,src:m})}),title:I,subheader:b}),(0,j.jsx)(h.Z,{component:"img",loading:"lazy",height:w,image:y,alt:I}),k&&(0,j.jsx)(l.Z,{children:(0,j.jsx)(g.Z,{variant:"body2",color:"text.secondary",children:k})}),(0,j.jsx)(u.Z,{disableSpacing:!0,children:(0,j.jsx)(v,{expand:a,onClick:function(){i(!a)},"aria-expanded":a,"aria-label":"show more",children:(0,j.jsx)(o.Z,{})})}),(0,j.jsx)(p.Z,{in:a,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(l.Z,{children:(0,j.jsx)(g.Z,{paragraph:!0,children:S})})})]})})}}}]);
//# sourceMappingURL=890.a58b7050.chunk.js.map