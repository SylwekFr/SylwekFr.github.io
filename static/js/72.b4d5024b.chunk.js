"use strict";(self.webpackChunksylwekfr_github_io=self.webpackChunksylwekfr_github_io||[]).push([[72],{72:(t,e,a)=>{a.r(e),a.d(e,{default:()=>m});var r=a(8903),s=a(5043),i=a(638),o=a(1591),n=a(1137),l=a(6213);class c{constructor(){this.baseUrl="https://openlibrary.org/api/books"}getBook(t){const e=new URLSearchParams({bibkeys:`ISBN:${t}`,format:"json",jscmd:"data"});return new Promise(((a,r)=>{l.A.get(`${this.baseUrl}?${e.toString()}`).then((async e=>{if(e.data){const r=e.data[`ISBN:${t}`],s=r.authors[0].name,i=r.authors[0].url.match(/OL[^/]+/),o=await this.getDescription(t),n={author:s,avatar:`https://covers.openlibrary.org/a/olid/${i}-S.jpg`,date:r.publish_date,sumup:o,detail:r.subtitle,picture:r.cover.medium,title:r.title};a(n)}r(new Error("Not data retrieved for this book"))})).catch((t=>{r(new Error(t.message))}))}))}async getDescription(t){var e;const a=new URLSearchParams({bibkeys:`ISBN:${t}`,format:"json",jscmd:"details"}),r=await l.A.get(`${this.baseUrl}?${a.toString()}`);console.log(r.data[`ISBN:${t}`].details);const s=r.data[`ISBN:${t}`].details;let i;return i="string"==typeof s.description?s.description:null!==(e=s.description)&&void 0!==e&&e.value?s.description.value:r.data[`ISBN:${t}`].info_url,i}}var d=a(1637),h=a(6946),u=a(579);function m(){const{t:t}=(0,n.Bd)("books"),[e,a]=(0,s.useState)([]),[l,m]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{const e=t("books",{returnObjects:!0}),r=new c;Promise.all(e.map((t=>r.getBook(t)))).then((t=>{a(t),m(!1)})).catch((t=>{console.error(t),m(!1)}))}),[t]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(o.m,{children:[(0,u.jsx)("title",{children:"SylwekFr - Books"}),(0,u.jsx)("meta",{name:"description",content:"Welcome to the book's part. This part contains books I recommend reading. If you read those books, I hope you will enjoy them as much as I did. Wishing you some lovely reading time."})]}),l?(0,u.jsx)(h.A,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,u.jsx)(d.A,{})}):(0,u.jsx)(r.Ay,{container:!0,justifyContent:"space-around",alignContent:"center",spacing:3,children:e.map((t=>(0,u.jsx)(r.Ay,{item:!0,justifyItems:"center",sm:12,md:6,lg:3,children:(0,u.jsx)(i.A,{...t,pictureHeight:500})},t.title)))})]})}},638:(t,e,a)=>{a.d(e,{A:()=>b});var r=a(1337),s=a(1045),i=a(2110),o=a(7600),n=a(6494),l=a(9958),c=a(6591),d=a(279),h=a(7392),u=a(4535),m=a(6212),p=a(5865),g=a(5043),x=a(579);const j=(0,u.Ay)((t=>{const{expand:e,...a}=t;return(0,x.jsx)(h.A,{...a})}))((t=>{let{theme:e,expand:a}=t;return{transform:a?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}})),b=t=>{const[e,a]=g.useState(!1),{author:h,avatar:u,date:b,detail:y,picture:f,pictureHeight:A,sumup:k,title:v}=t;return(0,x.jsxs)(i.A,{sx:{maxWidth:345,m:"auto"},children:[(0,x.jsx)(l.A,{avatar:(0,x.jsx)(m.A,{title:h,children:(0,x.jsx)(s.A,{"aria-label":"author",alt:h,src:u})}),title:v,subheader:b}),(0,x.jsx)(c.A,{component:"img",loading:"lazy",height:A,image:f,alt:v}),y&&(0,x.jsx)(n.A,{sx:{height:"5em",overflowY:"scroll"},children:(0,x.jsx)(p.A,{variant:"body2",color:"text.secondary",children:y})}),(0,x.jsx)(o.A,{disableSpacing:!0,children:(0,x.jsx)(j,{expand:e,onClick:()=>{a(!e)},"aria-expanded":e,"aria-label":"show more",children:(0,x.jsx)(r.A,{})})}),(0,x.jsx)(d.A,{in:e,timeout:"auto",unmountOnExit:!0,children:(0,x.jsx)(n.A,{sx:{height:"15em",overflowY:"scroll"},children:(0,x.jsx)(p.A,{paragraph:!0,children:k})})})]})}}}]);
//# sourceMappingURL=72.b4d5024b.chunk.js.map